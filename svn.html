<html>
<head>
<link type="text/css" rel="stylesheet" href="mperdikeasgithub.css"/>
</head>
<body>
<ol>
<li>add a directory <i>foodir</i> to <b>SVN</b> but not its contents:</li>
<pre>svn add --depth=empty foodir</pre>
<li>add a number of files in the svn:ignore property</li>
<pre>svn propedit svn:ignore .</pre>
<li>add a directory in SVN without recursing</li>
<pre>svn add --depth=empty &ltdirectory&gt</pre>
<li>reverting an 'svn add &ltdirectory&gt'</li>
<pre>svn revert &ltdirectory&gt</pre>
and sometimes the following is required:
<pre>svn revert &ltdirectory&gt --depth infinity</pre>
<li>checking out a particular working directory inside the repo</li>
<pre>
svn co https://172.31.128.119/svn/neuro-jsf-pilot/trunk/apps/cashflow
</pre>
<li>checking that status of a file (e.g. foo.sh) in SVN</li>
<pre>svn ls foo.sh</pre>
<li>getting the .svnignore settings for the current folder</li>
<pre>svn propget svn:ignore .</pre>
<li>renaming, moving files / directories and creating directories</li>
Such operations cannot be done from the shell alone. You'll have to use:
<pre>
svn mv
svn mkdir
</pre>
<li>how to add ignore files in SVN</li>
use the <u>setUnversionedToSVNignore.sh</u> script once you're satisfied
that all the files reported with '?' in the <u>svn status</u> are
files you want to add to <u>svn:ignore</u>. Then, to commit
the svn:ignore properties of the folders thusly changed its enough
to commit the roo folder, or each one of them individually.
<li>how to undo SVN commits</li><p>
Say you wish to go back from commit 75 to commit 68.
There are two ways:
<ol>
<li>use svn merge</li>
<li>do it manually</li>
</ol>
With the <b>svn merge</b> route you do a:
<pre>
svn merge -r 75:68
</pre>
followed by a new SVN commit to push the reverted r68 to the tip.
<p>
With the manual way, you create a new folder just to checkout the previous
version you wish to revert to (say r68) and do some file-hacking there.
Let's call that folder "r68checkoutFolder". This is the source folder
for most of the below operations. The target folder is the "checkout75" (latest commit
SVN tip) folder. So, in the <i>r68checkoutFolder</i>
you do a:
<pre>
svn checkout -r 68 https://192.168.0.8/svn/neuro-jsf-pilot/trunk
</pre>
Then you remove all metadata svn files using:
<pre>
find . -iname .svn | xargs rm -rf
</pre>
Now you want to remove from the target (latest release folder) all files that were added since r68. So you do a:
<pre>
cd /path/to/checkout68 ; find . -type f -exec rm /path/to/checkout75/'{}' \;
</pre>
Then you remove all files in r68 that are identical in r75. To do that
we use the ttsiodras utility <b>cmpDir1andDir2andRemoveSamesFromDir1</b>:
<pre>
cmpDir1andDir2andRemoveSamesFromDir1 r68checkoutFolder /path/to/checkout75
</pre>
And then remove all empty folders using:
<pre>
find . -type d -depth | xargs rmdir
</pre>
At this point, what's left in the <i>r68checkoutFolder</i> is the files that
were modified between revisions 68 and 75. And we are also guaranteed
that any new files in r75 have been deleted.
So all that's left is move the remaining files over to r75:
<pre>
find . -type f -exec mv '{}' /path/to/checkout75/'{}' ';'
</pre>
At the end of the move it should be the case that the source folder is empty.
If this is so, we can then follow and close the manual process with a commit
at the target folder:
<pre>
svn commit -m "manually reverted back to r68"
</pre>
<li>basic SVN vocabulary</li><p>
checkout, update, status, info, log, commit, add, rm<p>
svn revert 'filename' '.' 'foldername' <p>
svn commit -m "message" 'filename' (or no 'filename' for all modified files
<li>SVN status symbols</li>
    <ul>
        <li><b>X:</b> eXternal repository</li>
        <li><b>M:</b> modified</li>
    </ul>
<li>svn / git correspondances</li>
    <ul>
        <li>git clone  <-> svn checkout</li>
        <li>git pull   <-> svn update</li>
        <li>git status <-> svn status</li>
        <li>fast-forward update in git <-> "G" flag next to filenames in SVN</li>
    </ul>
</ol>
</body>
</html>
