<head>
  <link type="text/css" rel="stylesheet" href="mperdikeasgithub.css"/>
  <link rel='icon' href='/knowledge-favicon.ico'/>
</head>
<body>
  <hr>
  <p>
    <span class='NB'>NB: </span>All new filesystem-related stuff should go <a href='filesystems.html'>here</a>. However I am not moving some older gists from this page to avoid breaking links.
  </p>
  <hr>
  <ol class='main-list-items' reversed>
    <li>How to recover passwords stored in DBeaver</li>
    <p>
      In July 2024 I used <a href='https://stackoverflow.com/a/64726416/274677'>
      this answer
      </a> to successfully retrieve passwords stored by DBeaver version <tt>21.0.5.202105160657</tt>
      release date <tt>May 17, 2021</tt> in my <i>Ubuntu 20.04</i> system. In particular, I used
      the incantation shown then with the proposed change for Linux, i.e.:
      <pre>
openssl aes-128-cbc -d -K babb4a9f774ab853c96c2d653dfe544a -iv 00000000000000000000000000000000 -in ~/.local/share/DBeaverData/workspace6/General/.dbeaver/credentials-config.json | dd bs=1 skip=16 2>/dev/null</pre>
    </p>
    <li>How to burn a blank CD on Ubuntu 20.04</li>
    <p>
      Trying to mount a, just purchased, blank CD as in:
      <pre>$ sudo mount /dev/sr0 /media/cdrom</pre>
      &hellip; will give you:
      <pre>mount: /media/cdrom: can't read superblock on /dev/sr0.</pre>
      Apparently at that point there is no filesystem at all on the disk.
      So simply insert the blank disk in the CD-ROM device and use
      the <i>Brasero CD/DVD burner</i> to burn a "data CD". Works like a charm.
    </p>
    <li id='artificially-set-time'>How to artificially change the time in Ubuntu:</li>
    <p>
      <a href='https://phoenixnap.com/kb/how-to-set-or-change-timezone-date-time-ubuntu'>source #1</a><br/>
      <a href='https://askubuntu.com/a/683079/89663'>source #2</a>
<pre>
$ timedatectl set-ntp no
$ timedatectl set-time 1974-12-24
$ timedatectl set-time 03:05:49
$ // do what you want to do ...
$ timedatectl set-ntp yes
</pre>      
<span class='NB'>NB: </span><tt>set-time</tt> is indeed used for both date <b>and</b> time.
<br/>
<span class='NB'>NB2: </span><tt>1</tt> and <tt>0</tt> can also be used in lieu of <tt>yes</tt> and <tt>no</tt> (respectively).
    </p>
    <li>how I fixed broken and missing packages</li>
    <p>
      In November 2022 I was initially unable to install <tt>kdiff3</tt> on my Ubuntu 20.04 machine
      due to missing and broken packages. I was able to fix that with the following sequence:
    </p>
    <pre>
sudo apt update --fix-missing
sudo apt install -f
sudo apt --fix-broken install
sudo apt autoremove</pre>
    <p>
      &hellip; after which <tt>sudo apt install kdiff3</tt> succeeded.
    </p>
    <li>how I configured Microsoft Mouse speed (incl. wheel speed)</li>
    <p>
      In September 2022 I replaced my Logitech mouse with a "Microsoft Comfort 4500" mouse on my
      ThinkStation P320 machine (running Ubuntu 20.04). I had to configure both the mouse acceleration
      and the wheel speed (both were very slow). The scripts I used are found in the following
      locations:
      <dl>
        <dt>mouse acceleration</dt><dd>in project <i>"environment"</i>, path: <tt>local-startup-scripts-ThinkStation-P320/change-microsoft-mouse-acceleration.sh</tt></dd>
        <dt>wheel speed</dt><dd>in project <i>"tools"</i>, path: <tt>configure-mouse-wheel-speed.sh</tt></dd>
      </dl>
      Be sure to also look for any accompanying README files (if any).
    </p>
    <li>how to list all custom repositories</li>
    <pre>ls /etc/apt/sources.list.d</pre>
    <li>Notes on upgrading Ubuntu 16.04 to 18.04 LTS </li>
    <p>
      The normative way to upgrade is:
      <pre>sudo apt update
sudo apt upgrade</pre>
      &hellip; followed by:
      <pre>sudo do-release-upgrade</pre>
      (read more <a href='https://askubuntu.com/a/915793/89663'>here</a>)
    </p>
    <p id='broken-python-prevents-upgrade'>In February 2022 I encountered problems when following the above
      procedure as it failed, at the last step, with the following:
    <pre>Checking for a new Ubuntu release
 Please install all available updates for your release before upgrading.</pre></p>
    <p>
      It turned out that this was due to a broken Python installation
      which I had to fix <a href='./python.html#fix-python'>like this</a>.
    </p>
    <li>fixed unverifiable signatures during <tt>apt update</tt></li>
    <a href='https://chrisjean.com/fix-apt-get-update-the-following-signatures-couldnt-be-verified-because-the-public-key-is-not-available/'>source</a>
    <p>
      Sometimes, during <tt>apt-get update</tt> you get hit by
      the following:
      <pre>the following signatures couldnâ€™t be verified because the public key is not available</pre>
    </p>
    <p>E.g. like the following output:

      <pre>$ sudo apt-get update
Ign http://security.ubuntu.com trusty-security InRelease
Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
...
Fetched 21.9 MB in 14s (1,537 kB/s)
Reading package lists... Done
W: GPG error: http://security.ubuntu.com trusty-security Release: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 40976EAF437D05B5 NO_PUBKEY 3B4FE6ACC0B21F32
W: GPG error: http://archive.canonical.com trusty Release: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 40976EAF437D05B5 NO_PUBKEY 3B4FE6ACC0B21F32 </pre>
    </p>
    <p>
      In such cases, the following fixes it:
      <pre>sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 40976EAF437D05B5</pre>
    </p>
    <a name='install-oracle-xe-11_2'></a>
    <li>how to install Oracle XE 11.2 on Ubuntu 16.04</li>
    In January 2021 I used the instructions found
    <a href='http://sampig.github.io/tutorial/2019/06/17/install-oracle-express-in-ubuntu'>here</a>
    (PDF also saved
    <a href='./admin.html.files/install-Oracle-XE-11_2-on_Ubuntu_16_04.pdf'>here</a>) and
    the process was, for the most part, smooth.
    <li>how to launch GNOME control center will <b>all</b> the icons from the command line &mdash; i3wm and 16.04</li>
    The following is sufficient (no sudo is required):
    <pre>env XDG_CURRENT_DESKTOP=GNOME gnome-control-center</pre>
    provenance: <a href='https://askubuntu.com/q/542744/89663'>https://askubuntu.com/q/542744/89663</a>
    <li>how I installed Artifactory Pro on Ubuntu 16.04 (manually)</li>
    <p>
      NB: this is the preferred way as it affords greater control and does not require <tt>sudo</tt>
    </p>
    <p>
      After downloading the Artifactory Pro zip file from <a href='https://jfrog.com/download-artifactory-pro/'>this page</a>
      I followed the instructions on
      <a href='https://www.jfrog.com/confluence/display/RTF/Installing+on+Linux+Solaris+or+Mac+OS'>this page</a>
      under the <i>Manual Installation</i> heading:
      <blockquote>
        <p>
          To install Artifactory manually, simply unzip the Artifactory download file to a location on your file system.
          This will be your $ARTIFACTORY_HOME location.
        </p>
        <p>
          No further action is needed.
        </p>
        <p>
          Don't forget to modify your JVM parameters as needed by setting JAVA_OPTIONS in $ARTIFACTORY_HOME/bin/artifactory.default.
        </p>
      </blockquote>
    </p>
    <p>
      I did not bother to set an <tt>ARTIFACTORY_HOME</tt> environment variable in my environment, nor did I bother
      to edit the <tt>JAVA_OPTIONS</tt> in the <tt>$ARTIFACTORY_HOME/bin/artifactory.default</tt> file.
    </p>
    <p>The only thing I did edit was the <tt>$ARTIFACTORY_HOME/tomcat/conf/server.xml</tt> file where I simply changed
      the value of a single connector port from <tt>8081</tt> (that's the first one that appears inside the Catalina
      service element) to <tt>9081</tt>
    </p>
    <p>
      To launch artifactory I simply followed the instructions on the above page under heading <i>Running Artifactory</i>:
      <blockquote>
        <p>Running Artifactory</p>
        <p>
          You can run Artifactory manually to see its behavior by directly executing:

          $ARTIFACTORY_HOME/bin/artifactory.sh

          The console is locked on the Artifactory process and you can stop it cleanly with Ctrl+C.

          To directly run Artifactory as a daemon process, using the environment variables of the shell you are currently in, execute the following script:

          $ARTIFACTORY_HOME/bin/artifactoryctl start
        </p>
      </blockquote>
      &hellip; I just used <tt>artifactory.sh</tt> from a console terminal &mdash; I didn't bother with running it as a daemon.
    </p>
    <li>how I installed Artifactory Pro on Ubuntu 16.04 (as a service)</li>
    <p>
      After confirming with <code>lsb_release -a</code> that my release is codenamed <i>xenial</i>,
      I followed the instructions on 
      <a href='https://www.jfrog.com/confluence/display/RTF/Installing+on+Linux+Solaris+or+Mac+OS#InstallingonLinuxSolarisorMacOS-RPMorDebianInstallation'>this page</a>:
      <pre>
$ echo "deb https://jfrog.bintray.com/artifactory-pro-debs xenial main" | sudo tee -a /etc/apt/sources.list
$ curl https://bintray.com/user/downloadSubjectPublicKey?username=jfrog | sudo apt-key add -
$ sudo apt-get update
$ sudo apt-get install jfrog-artifactory-pro</pre>
    </p>
    <p>To check the service, and in contrast to what one is advised in the linked page,
      the following did not work:
      <pre>
sudo service artifactory check</pre>
      &hellip; instead, I confirmed correct installation with:
      <pre>
sudo systemctl status artifactory.service
sudo tail -f /var/opt/jfrog/artifactory/logs/artifactory.log</pre>
      &hellip; while also trying the following (for additional assurance):
      <pre>
$ sudo systemctl stop artifactory.service
$ sudo systemctl start artifactory.service</pre>
    </p>
    <p>
      When, following the above steps, I tried to connect to:
      <a href='http://localhost:8081/artifactory'>http://localhost:8081/artifactory</a>
      <br/>&hellip; but my Nexus Repository Manager was already running there, so I edited
      the following file:
      <pre>/var/opt/jfrog/artifactory/tomcat/conf/server.xml</pre>
      <br/>&hellip; and changed the port number to <tt>9081</tt>.
    </p>
    <li id='node-8-pre-built-binaries'>how I got Node 8.11.4 with pre-built binaries for Linux x64</li>
    <p>
      Simply fetch the version you need from <a href='https://nodejs.org/en/download/'>https://nodejs.org/en/download/</a>:
      <pre>
wget https://nodejs.org/dist/v8.11.4/node-v8.11.4-linux-x64.tar.xz
tar xf node-v8.11.4-linux-x64.tar.xz</pre>
      See <a href='travails-building-node-from-sources.html'>this note</a> on how to build from sources.
    </p>

    <li>how I fixed my python3 package on Ubuntu 16.04</li>
    <p>
      When I was trying to execute <pre>sudo apt-get install python3</pre> &hellip; I would eventually see the following problems:
      <pre>
dpkg: error processing package python3 (--configure):
 package is in a very bad inconsistent state; you should
 reinstall it before attempting configuration
dpkg: dependency problems prevent configuration of idle3:
 idle3 depends on python3 (>= 3.5.1-3); however:
  Package python3 is not configured yet.</pre>
    </p>
    <p>
      Trying the following:
      <pre>sudo dpkg --remove --force-remove-reinstreq python3</pre>
      &hellip; also failed with:
      <pre>
dpkg: dependency problems prevent removal of python3</pre>
    </p>
    <p>I eventually managed to reinstall python3 only with:
      <pre>sudo apt-get --reinstall install python3</pre></p>
    <li>how to restore packages if something you did broke Ubuntu</li>
    <p>
      My sad, didactic tale <a href='https://askubuntu.com/q/1020616/89663'>here</a> &mdash; see my answer which
      is what eventually fixed the appearance of the terminal (apparently a lot of things in Ubuntu depend
      on the version of Python so you should never change those that come with the system).
    </p>
    <p>If you want to see why a particular package was installed, install <i>aptitude</i> and do:
      <pre>aptitude why &lt;name-of-package&gt;</pre>
    </p>
    <li>on whether <tt>autoremove</tt> is safe</li>
    <p>Short answer is that no, it's not. See
      <a href='https://askubuntu.com/a/393307/89663'>here</a>,
      <a href='https://administratosphere.wordpress.com/2011/11/29/the-metapackage-problem-and-apt-get-autoremove/'>here</a>,
      <a href='https://ubuntuforums.org/showthread.php?t=2243852'>here</a>,
      and
      <a href='https://www.linuxquestions.org/questions/debian-26/is-this-apt-get-autoremove-operation-safe-935534/'>here</a>.
    </p>
    <p>
      To make matters worse there's no easy way to discover if a package is a meta-package (and thus unsafe to remove
      &mdash; see also <a href='https://askubuntu.com/a/679734/89663'>here</a> for more). 
    </p>
    
    <li>How to list packages with partial installation or uninstallation</li>
    <a href='https://askubuntu.com/q/772653/89663'>source</a>
    <p>I use:
      <pre>dpkg-query -W -f='${db:Status-Abbrev} ${binary:Package}\n' | grep -v ^ii</pre>
      &hellip; to find packages with partial installation or uninstallation.
    </p>
    <p>To narrow down to only partially installed packages:
      <pre>dpkg-query -W -f='${db:Status-Abbrev} ${binary:Package}\n' | grep -E ^.[^nci]</pre>
    </p>
    <p>
      The description of each field is (<a href='https://askubuntu.com/a/18807/89663'>source</a>):
      <ul>
        <li>First letter -> desired package state ("selection state")</li>
        <ul>
          <li><b>u</b> unknown</li>
          <li><b>i</b> install</li>
          <li><b>r</b> remove/deinstall</li>
          <li><b>p</b> purge (remove including config files)</li>
          <li><b>h</b> hold</li>
        </ul>
        <li>Second letter -> current package state</li>
        <ul>
          <li><b>n</b> not-installed</li>
          <li><b>i</b> installed</li>
          <li><b>c</b> config-files (only the config files are installed)</li>
          <li><b>U</b> unpacked</li>
          <li><b>F</b> half-configured (configuration failed for some reason)</li>
          <li><b>h</b> half-installed (installation failed for some reason)</li>
          <li><b>W</b> triggers-awaited (package is waiting for a trigger from another package)</li>
          <li><b>t</b> triggers-pending (package has been triggered)</li>
        </ul>
        <li>Third letter -> error state (you normally shouldn't see a third letter, but a space, instead)</li>
        <ul>
          <li><b>R</b>  reinst-required (package broken, reinstallation required)</li>
        </ul>
      </ul>
    </p>
    <li>Fonts</li>
    <p>
      The collection of fonts you are able to use is the set of all fonts found under any subdirectory of
      <tt>/usr/share/fonts</tt> and <tt>~/.fonts</tt>
    </p>
    <p>
      The above locations are scanned and any font found therein is added to the collection. 
      The following command can be used to refresh the contents of the font cache:
      <pre>fc-cache -fv</pre>
      You may have to invoke it both with and without <tt>sudo</tt> as the effects may be different.
    </p>
    <p>
      In my system I have cloned the <a href='https://github.com/google/fonts'>Google fonts</a> repository
      on my home directory (so the repo resides in <tt>~/fonts</tt>). I then did the following:
      <pre>
cd ~/.fonts
ln -s ~/fonts
fc-cache -fv
sudo fc-cache -fv</pre>
    </p>
    <p>
      I did the above in an effort to be able to configure my terminals to use the <i>inconsolata</i> font.
      Sadly, even though the <tt>fc-list</tt> command succeeds in finding the <i>inconsolata</i> both in the personal (<tt>~/.fonts</tt>) and the system-wide (<tt>/usr/share/fonts</tt>) locations:
      <pre>
$ fc-list | grep -i inconsol
/usr/share/fonts/truetype/inconsolata/Inconsolata-Bold.ttf: Inconsolata:style=Bold
/home/mperdikeas/.fonts/fonts/ofl/inconsolata/Inconsolata-Regular.ttf: Inconsolata:style=Regular
/home/mperdikeas/.fonts/fonts/ofl/inconsolata/Inconsolata-Bold.ttf: Inconsolata:style=Bold
/usr/share/fonts/truetype/inconsolata/Inconsolata-Regular.ttf: Inconsolata:style=Regular</pre>
      &hellip; and even though Libreoffice finds the font, I still am not able to find it under the profile
      preferences of the terminal. So symlinking the <tt>~/fonts</tt> directory from within <tt>~/.fonts</tt> had no effect in my case (I guess that's because I had already copied the font into <tt>/usr/share/fonts</tt>).
    </p>
    <li>how to remove a Personal Package Archive (PPA) and any packages updated / installed by it</li>
    <p>
      In November 2017 I installed Emacs 25 on Ubuntu 16.04 by first installing a PPA (as described <a href='#install-emacs25-ubuntu-16.04'>here</a>). It was working fine, but I subsequently decided to unistall it and to remove the PPA I had installed for that purpose alone.
    </p>
    <p>Normally, I would purge the package and remove the PPA. Turns out there's a safer and cleaner approach that allows you to remove a PPA <b>and</b> at the same time gracefully downgrade any pacages it updated (over the official repositories) or any packages installed by it. This alternative is the program <i>ppa-purge</i>. I read about it <a href='https://askubuntu.com/a/310/89663'>here</a>.
    </p>
    <p>
      So that's what I did in two simple commands:
      <pre>
sudo apt-get install ppa-purge
sudo ppa-purge ppa:kelleyk/emacs</pre>
      &hellip; after the above, <i>emacs25</i> was no more (without having to explicitly <i>apt-remove</i> it)
    </p>
    <p>Note that the following file:
      <pre>/etc/apt/sources.list.d/kelleyk-ubuntu-emacs-xenial.list</pre>
      &hellip; continued to exist after the above procedure, but all its lines were commented out.
    </p>
    <li id='install-emacs25-ubuntu-16.04'>how to install emacs25 on Ubuntu 16.04</li>
    <a href='https://askubuntu.com/a/851646/89663'>source</a>
    <p>
      In November 2017 I followed the below procedure to install Emacs 25 on my Ubuntu 16.04 ThinkPad T420 machine:
    </p>
    <pre>
sudo add-apt-repository ppa:kelleyk/emacs
sudo apt-get update
sudo apt-get install emacs25
    </pre>
    <li>quick test to see if the locally configured SMTP MSA (Mail Submission Agent) is working</li>
    <p>
      This can be helpful when trying to troubleshoot programmatic MUA (e.g. using the <tt>javax.mail.Transport</tt>
      class).
      <pre>mail -s "subject" john.doe@gmail.com</pre>
      Program works by typing message body and ending it with a dot, at which point the email is sent out.
      <tt>mail</tt> is apparently using the Sendmail MUA (Mail User Agent) and talks to a MSA over SMTP
      at port 587 or 25 (if still allowed).
    </p>
    <p>
      It can happen that both the programmatic API and the <tt>mail</tt> program fail silently (with a 0 exit code)
      but then, when looking at the <tt>/var/log/maillog</tt> file one sees "Relaying denied" messages.
    </p>
    <li>how to see which directories are mounted on a local disk</li>
    <a href='https://unix.stackexchange.com/a/72224/24044'>source</a>.
    The following incantantion yields good results:
    <pre> df -P -T | awk '{print $NF " " $2}'| grep -v nfs | grep -v mvfs</pre>
    In the above incantantion we are filtering out the <tt>nfs</tt>
    and the MultiVersion File System filesystem types (the latter being
    used by the shitty ClearCase "product")
    <li>find swap size</li>
    <p>
      There's a number of ways to obtain swap size:
      <ul>
        <li>Using <code>free</code></li>
        <pre>
    $ free -h
                  total        used        free      shared  buff/cache   available
    Mem:           7.7G        4.8G        484M        387M        2.5G        2.2G
    Swap:          7.9G        5.1M        7.9G
        </pre>
        <li>Using the <code>/proc</code> filesystem</li>
        <pre>
$ cat /proc/swaps
Filename    Type          Size       Used  Priority
/dev/sda5   partition     8267772    5172  -1
        </pre>
        <li>Using high-level tools like <code>htop</code> or <code>glance</code></li>
      </ul>

    </p>
    <li>configuring swappiness</li>
    <p>
      Obtain current swappiness with:
      <pre>cat /proc/sys/vm/swappiness</pre>
    </p>
    <p>The Ubuntu default value is <tt>60</tt>, for a reasonable endowed (memory-wise) system it is recommended to set that value to <tt>10</tt>.
      <br/>Set it with:
      <pre>sudo sysctl vm.swappiness=10</pre>
    </p>
    <p>
      &hellip; following the above I did the following to (temporarily) clear and then turn back on the swap so that the new settings would take full effect:
      <pre>$ sudo swapoff -a &&  sudo swapon -a</pre>
    </p>
    <li><a href="admin.html.files/ubuntu-bootable-usb-flash.html">how to create a bootable USB flash drive with an image of Ubuntu</a></li>
    <li>finding which processes cause the disk to be grinding</li>
    <p>
      I had noticed by hard disk light flashing a lot so recently I used:
      <pre>
$ sync
$ echo 1 > /proc/sys/vm/block_dump
$ dmesg -c | grep '/dev/sda'
      </pre>
      &hellip; don't forget to change the value of <tt>/proc/sys/vm/block_dump</tt> back to <tt>0</tt>
      when you're done.
    </p>
    <p>
      I've also used <pre>iotop --only</pre> (the <tt>--only</tt> option results in much cleaner
      output). It seems that in my case the culprit was <tt>jbd2</tt> which I killed with:
      <pre>
pkill gvfsd-metadata
rm -rf .local/share/gvfs-metadata
      </pre>
    </p>
    <p>
      Sources: <a href='http://unix.stackexchange.com/a/140261/24044'>here</a> and
      <a href='http://askubuntu.com/a/486713/89663'>here</a>.
    </p>
    <li>change the default login shell in RHEL</li>
    Use either <tt>ypchsh</tt> or <tt>chsh</tt>.
    <li id="how-to-install-Ubuntu-from-a-USB-flash-drive">how to install Ubuntu from a USB flash drive in a Dell Precision laptop</li>
    <p>
      I basically prepared a USB flash drive with the ISO image of Ubuntu 14.04 LTS using <a href='http://askubuntu.com/a/460183'>unetbootin</a>:
      <pre>
sudo apt-get install unetbootin
sudo unetbootin
      </pre>
    </p>
    <p>&hellip; I then inserted the flash drive to a port and tapped <tt><b>F12</b></tt> when the Dell logo
      appeared during startup. This is consistent with what is described <a href='http://www.dell.com/support/article/us/en/04/SLN151664/en'>here</a> under section: <i><b>3.</b>Setup the Ubuntu Install</i>:
      <blockquote>
        <p>
          1. Insert the Ubuntu disk into your DVD drive or connect your Bootable USB into a port on the system.
        </p>
        <p>
          2. Tap rapidly on the F12 key when you see the Dell logo appear during start up. This will take you to the Boot Once menu.
        </p>
        <p>
          3. You can use the Cursor/Arrow keys to navigate the menu and highlight your selection. It will be either boot from USB or Boot from CD/DVD Drive. Once your Choice is highlighted hit the ENTER key.
        </p>
      </blockquote>
    </p>
    <p>The guy at the store said that for versions of Ubuntu &ge; 14 <a href='https://en.wikipedia.org/wiki/Unified_Extensible_Firmware_Interface'>UEFI</a> should be used instead of BIOS (legacy).</p>
    <p>Some quick Googling reveals that the issue is <a href='http://askubuntu.com/q/647303/89663'>more complicated than that</a>.</p>
    <p>Incidentally I have failed to utilize the (expensive) video card &mdash; initially I had installed Ubuntu 16.04 and
      there appears to be an <a href='http://askubuntu.com/q/760934/89663'>issue with the NVIDIA cards</a>
      I wasted half a day on it, then gave up.</p>
    <p>Subsequently, when I installed Ubuntu 14.04 LTS I <i>think</i> I encountered the problem again but at any rate I finally did
      not install the NVIDIA drivers at all. Googling just now it seems that 14.04 also has some issues with the NVIDIA drivers.
      See for instance <a href='http://unix.stackexchange.com/q/120955/24044'>here</a>.
    </p>
    <p>I wonder if the graphics card problems are related to the fact that the installation was done using <tt>UEFI</tt> and not <tt>BIOS</tt>.</p>
    <p>You can Google many <a href='http://askubuntu.com/q/23238/89663'>ways to verify which controller is actually handling graphics</a> &mdash; i.e. whether it is the processor built-in
      controller (Intel in my case) or an external graphics card controller (e.g. Nvidia).</p>
    <p>
      In my case I get:
      <pre>
$ lspci | grep -i vga
00:02.0 VGA compatible controller: Intel Corporation 4th Gen Core Processor Integrated Graphics Controller (rev 06)
      </pre>
      &hellip; I.e. the built-in Intel controller.
    </p>
    <li>how to mount any system that's accessible via ssh</li>
    <a href="http://unix.stackexchange.com/a/59695/24044">source</a><br/>
    Use <a href="https://github.com/libfuse/sshfs">sshfs</a>.
    <br/>
    E.g. the following worked for me:
    <pre>
    $ sudo apt-get install sshfs
    $ mkdir /media/local-radacer-repository/
    $ sudo sshfs -o allow_other radacer@172.17.12.56:/data /media/local-radacer-repository
radacer@172.17.12.56's password:
    $ ls /media/local-radacer-repository/
    total 28
    drwxrwxrwx 1  500  500  4096 Feb 19 12:59 ./
    drwxrwxrwx 7 root root  4096 May 19 15:39 ../
    drwx------ 1  500  500 16384 Feb 17 17:27 lost+found/
    drwxrwxr-x 1  500  500  4096 Feb 19 13:02 RADACER/
    </pre>
    To unmount:
    <pre>
    $ sudo fusermount -u /media/local-radacer-repository
    </pre>
    <li>how to enable 64-bit Window versions in virtualbox under Ubuntu 14.04 64bit</li>
    I had the strange situation on 2016-05-18 that even though my Ubuntu machine was
    64-bit both in terms of CPU architecture and in terms of OS:
    <pre>
$ uname -a
Linux beorn 3.16.0-48-generic #64~14.04.1-Ubuntu SMP Thu Aug 20 23:03:57 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
mperdikeas@beorn:~#
$ arch
x86_64
    </pre>
    ... the <a href='https://www.virtualbox.org/'>virtualbox</a> program only allowed me to install 32-bit
    versions of Windows (even though I had installed the 64-bit version of <i>virtualbox</i>).
    <p>
      The solution was to enter the BIOS and enable the following option:<br/>
      advanced &rarr; CPU configuration &rarr; secure virtual machine mode
    </p>
    <li>how to compute sector size of a block device</li>
    <ol>
      <li>find the device you are interested in</li>
      <pre>
$ mount | grep \ /\
/dev/sda1 on / type ext4 (rw,errors=remount-ro)
      </pre>
      <li>find the size of the block device in bytes</li>
      <pre>
$ sudo blockdev --getsize64 /dev/sda1
246855761920
      </pre>
      <b>NB:</b> this should return a value that's in reasonable agreement with the output of:
      <pre>df -h .</pre>
      <li>find the size of the block device in sectors</li>
      <pre>
$ sudo blockdev --getsize /dev/sda1
482140160
      </pre>
      <li>divide</li>
      <pre>
$ python
Python 2.7.3 (default, Jun 22 2015, 19:43:34)
[GCC 4.6.3] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> 246855761920 / 482140160.0
512.0
>>> quit()
      </pre>
      <br/>Hence, sector size is 512 bytes.
    </ol>
    <li>setting default programs based on mime types in Ubuntu (from the command line)</li>
    I followed the advice found <a href='http://askubuntu.com/a/289339/89663'>here</a> in order to change the default
    program associated with PDF files from <tt>evince</tt> to <tt>okular</tt>.
    <br/>
    <br/>
    However, changing the file <code>/usr/share/gnome/applications/defaults.list</code> (which is a symlink to
    <code>/etc/gnome/defaults.list</code>) didn't work for me.
    <br/>
    <br/>
    Instead, I had to change the file <code>/usr/share/applications/defaults.list</code> (which is different and not symlinked
    to the above):
    <pre>
$ sudo cat /usr/share/applications/defaults.list | grep okular
application/pdf=okular.desktop
    </pre>
    <li>how to fix the screen resolution problem with VirtualBox in Ubuntu 14.04 64bit</li>
    <a href='http://askubuntu.com/a/591195/89663'>source</a>
    <br/>
    The following worked for me:
    <ul>
      <li>install Virtual Box 5</li>
      For the 64-bit version of Ubuntu 14.04 be sure to download the amd deb file and then do:
      <pre>sudo dpkg -i path/to/deb-file.deb</pre>
      <li>install these in the <b>Host</b> operating system</li>
      <pre>
sudo apt-get install virtualbox-guest-dkms virtualbox-guest-utils virtualbox-guest-x11
      </pre>
      <li>install these in the <b>Guest</b> system</li>
      <pre>
sudo apt-get install dkms
sudo apt-get install build-essential module-assistant
sudo m-a prepare
      </pre>
      <li>install the Insert Guest Additions CD Image</li>
      In case you have no top menu in the Guest system, it's because you're in scale mode which causes it to be hidden. In that case, press:
      <code> Host+C</code> to toggle scale mode (where <code>Host</code> is <code>Right Control</code> by default)
      <br/><br/>
      In the Guest system, go to the top menu, and click Devices->Insert Guest Additions CD Image. This should mount the CD image.
      <br/><br/>
      In my case, Autostart worked, and the installation started with a prompt. If it doesn't autostart, you can do the following
      <pre>
cd /media/&lt;username&gt;/VBOXADDITIONS_4.3.10_93012
sudo ./VBoxLinuxAdditions.run
      </pre>
      Just be sure to replace &lt;username&gt; by the logged in user's username.
      <li>reboot the <b>guest</b> system</li>
    </ul>
    <li>how to mount an ISO file</li>
    <a href='http://askubuntu.com/a/193632/89663'>source</a>
    <pre>
sudo mount -o loop path/to/iso/file/YOUR_ISO_FILE.ISO /media/iso
    </pre>
    <li>how to find the PID of a process by its window</li>
    <p>
      <a href='https://unix.stackexchange.com/a/19165/24044'>source</a>
    </p>
    <p>
      Run the following in a terminal:
      <pre>xprop | grep -i pid</pre>
      or
      <pre>xprop | awk '/PID/ {print $3}'</pre>
      &hellip; then use the mouse pointer to click on the window you're interested in.
    </p>
    <li>how to find the PID of the process listening to the 8080 port</li>
    <i>NB: the above uses extra flags to get around the fact that the 8080 port
      is shown aliased to <b>http_alt</b> in the default options of both
      <code>netstat</code> and <code>lsof</code></i>
    <br/>
    <a href='http://unix.stackexchange.com/a/256722/24044'>source</a>
    <br/>
    There's two methods:
    <dl>
      <dt>using <code>netstat</code></dt>
      <dd>
        <pre>sudo netstat -pan | grep 8080</pre>
      </dd>
      <dt>using <code>lsof</code></dt>
      <dd>
        <pre>sudo lsof -P | grep 8080</pre>
      </dd>
    </dl>
    <li>utility of <code>hash</code> in the shell</li>
    <a href="http://emacs.stackexchange.com/q/18126/4003">source a</a><br/>
    <a href="http://unix.stackexchange.com/a/86017/24044">source b</a><br/>
    <code>hash</code> is a bash built-in command. Last time I used to after installing version
    24.5 of Emacs to ensure it gets picked-up:
    <pre>$hash -r</pre>
    Also, when called without any arguments it reports how many times you've hit
    which commands.    
    <li><h2 id='install-consolas'>how to install the <tt>Consolas</tt> font in Ubuntu</h2></li>
    <a href="http://www.rushis.com/consolas-font-on-ubuntu/">source</a>
    <br/>
    This is the procedure that worked for me:
    <ol>
      <li><code>sudo apt-get install font-manager</code></li>
      <li><code>sudo apt-get install cabextract</code></li>
      <li>run the script at: <code>~/tools/consolas.sh</code> in a dir where you don't mind the temporary directory <code>temp</code> that will get created</li>
      <li>double click on the Consolas fonts to install them with the default font manager </li>
      <li>manually copy the font files to <code>/usr/share/fonts</code></li>
      One might expect that installing the fonts with the font manager (in the previous step)
      would work but in my case it didn't and I had to manually copy the fonts:
      <pre>
sudo mkdir /usr/share/fonts/truetype/consolas
sudo cp /home/mperdikeas/tools/temp/CONSOLA*.TTF /usr/share/fonts/truetype/consolas</pre>
      <li>run the <code>fc-cache</code> thing</li>
      <pre>sudo fc-cache -fv</pre>
      <li>launch LibreOffice to verify that the fonts are found</li>
      <li>reboot</li>
      Sadly, even after the above step I couldn't select the new fonts in my terminal preferences so I had
      to log out and reboot.
    </ol>
    <li>how to use <tt>xrandr</tt> to sent screen output from my laptop to an external monitor</li>
    Sources (most helpful first):
    <ul>
      <li><a href="http://yyhh.org/blog/2007/10/use-xrandr-1-2-swtich-external-display-thinkpad-laptop">http://yyhh.org/blog/2007/10/use-xrandr-1-2-swtich-external-display-thinkpad-laptop</a></li>
      <li><a href="https://wiki.ubuntu.com/X/Config/Resolution">https://wiki.ubuntu.com/X/Config/Resolution</a></li>
      <li><a href="http://pkg-xorg.alioth.debian.org/howto/use-xrandr.html">http://pkg-xorg.alioth.debian.org/howto/use-xrandr.html</a></li>
    </ul>
    Procedure that worked for me:
    <ol>
      <li>see what monitors are available using <tt>xrandr</tt></li>
      E.g. in my case I get (after plugging-in the second monitor):
      <pre>
$ xrandr -q
Screen 0: minimum 320 x 200, current 1280 x 800, maximum 8192 x 8192
LVDS-1 connected 1280x800+0+0 (normal left inverted right x axis y axis) 303mm x 190mm
   1280x800       60.0*+   49.5  
   1024x768       59.9  
   800x600        59.9  
   640x480        59.4  
   720x400        59.6  
   640x400        60.0  
   640x350        59.8  
VGA-1 connected (normal left inverted right x axis y axis)
   1920x1200      60.0 +
   1600x1200      60.0  
   1280x1024      75.0     60.0  
   1152x864       75.0  
   1024x768       75.1     60.0  
   800x600        75.0     60.3  
   640x480        75.0     60.0  
   720x400        70.1  
DVI-D-1 disconnected (normal left inverted right x axis y axis)
      </pre>
      <li>Send VGA output to the VGA-1 monitor</li>
      <pre>
$ xrandr --output VGA-1 --mode 1920x1200
      </pre>
      At this point, the second (external) monitor shows ouput, but not all the
      screen is used. I assume this is because the laptop's monitor determines the screen size. So ...
      <li>turn off the laptop monitor</li>
      <pre>xrandr --output LVDS-1 --off</pre>
      At this point the external monitor is used fully.
      <li>to turn the laptop monitor back on:</li>
      <pre>xrandr --output LVDS-1 --auto</pre>
    </ol>
    <p>
      <b>NB:</b>
      To mirror both monitors you do a:
      <pre>
xrandr --output HDMI1 --mode 1920x1080 --output eDP1 --mode 1920x1080 --same-as HDMI1
      </pre>
      <a href='http://unix.stackexchange.com/q/101490/24044'>source</a>
    </p>
    <li>how to play mp3 files from the console</li>
    <pre>
sudo apt-get install mpg321
mpg321 song.mp3
    </pre>
    <li>how to raise volume level of mp3 files</li>
    <pre>
sudo apt-get install lame
lame --scale 3 song.mp3 song-three-times-louder.mp3
    </pre>
    <li>how to tunnel HTTP traffic over SSH</li>
    <i>(instructions adapted and customized for my environment
      from <a href="http://www.linuxjournal.com/content/ssh-tunneling-poor-techies-vpn">this Linux journal</a> article)</i>
    <br/>
    A typical use case is to circumvent some sort of Kerio-control-like "solution" that's restricting access to sites.
    To implement this solution you need to enjoy administrator privileges to two machines:
    <ul>
      <li>a remote machine hosting an SSH server</li>
      <li>the local machine (the one that's subject to the HTTP traffic restrictions)</li>
    </ul>
    <br/>
    You then do the following:
    <ol>
      <li><b>on the remote machine:</b></li>
      You may wish to configure the following parameters in the remote machine's <code>/etc/ssh/sshd_config</code> file:
      <pre>
# Force SSH Protocol 2
Protocol 2

#Turn on Privileged Separation for security
UsePrivilegeSeparation yes

#Deny root login
PermitRootLogin no

#Do not allow empty passwords
PermitEmptyPasswords no

# Forward my X Sessions
X11Forwarding yes
X11DisplayOffset 10

# I hate Motd displays
PrintMotd no

# It's alliivee
TCPKeepAlive yes
      </pre>
      NB: I am not certain the above configuration changes are necessary.
      Following the above edits, restart the SSH daemon on the remote machine.
      E.g. for Ubuntu:
      <pre>
sudo /etc/init.d/ssh restart
      </pre>
      <li><b>on the local machine:</b></li>
      Open the tunnel in a terminal towards the remote machine. E.g. in the following I am using my <i>koding</i> VM as the "remote machine":
      <pre>
ssh -D 5222 mperdikeas@mperdikeas.koding.io -N
      </pre>
      Once the tunnel is opened, configure your browser to use a <tt>SOCKS</tt> proxy.
      E.g. for the above scenario, I've configured Chrome to use as proxy a Socks host at <code>localhost:5222</code>.
    </ol>
    <br/>
    <li>how to find the apt package to install for a LaTeX package</li>
    Use the <code>apt-cache</code> command. E.g. for the LaTeX package <i>outlines</i> use:
    <pre>
apt-cache search outlines | grep -i latex
    </pre>
    <li>how to install TeX Live in Ubuntu</li>
    <a href="http://askubuntu.com/a/163683/89663">source</a>
    <pre>
sudo add-apt-repository ppa:texlive-backports/ppa
sudo apt-get update
sudo apt-get install texlive
    </pre>
    <br/>If you already have <i>TexLive</i> and are updating type:
    <pre>
sudo apt-get upgrade
    </pre>
    <br/>It might also be a good idea to install the TeX Live extras:
    <pre>
sudo apt-get install texlive-latex-extra
    </pre>
    <li>copy/synchronize from one hard disk (external or otherwise) onto another (with the possibility to resume)</li>
    E.g. to backup the entire home directory:
    <pre>sudo rsync -avxHAWX --numeric-ids --progress ~ /media/wd-ext4-4T-plank/satl28-home/</pre>
    <br/>To copy bulk data from one external disk onto another (and keep the output as well):
    <pre>rsync -avxHAWX --numeric-ids --progress /media/cc171c39-fbb8-4d49-bd0f-84116ab2b11a/ /media/wd-ext4-4T-plank/planck-disk-1/ > ~/rsync.out</pre>
    <br/>
    <a href="http://superuser.com/a/307542/138891">source</a>.
    <li>what to do if Ubuntu 12.04 loops on the login screen</li>
    It has occured to me once that Ubuntu 12.04 would keep looping on the login screen
    (while it would still be possible to login as a guest). The solution was to:
    <ol>
      <li>open a shell terminal using <code>CTRL+ALT+F1</code></li>
      <li>rename the <code>~/.Xauthority</code> file, and, 
        <li>reboot from the terminal using <code>sudo reboot</code></li>
    </ol>
    ... as suggested in this <a href="http://askubuntu.com/a/147565/89663">Ask Ubuntu</a> answer.
    Another apparently similar, yet less invasive, solution (which I haven't tried), is
    <a href="http://askubuntu.com/a/223634/89663">this one</a>.
    <li>alternative to the <a href="#li-REISUB">REISUB</a> reboot<a name="li-deep-terminal"></li>
      It may sometimes be possible to unfreeze a Linux system by using:
      <pre>
CTRL+ALT+F1
      </pre>
      ... to open a terminal (or <tt>F2</tt>, <tt>F3</tt> ... up to <tt>F6</tt> for that matter). Then <tt>top</tt>
      or <tt>htop</tt> tools can then be used to identify the offending process (in terms of CPU or memory
      utilization); alternatively some window manager may need to be restarted.
      To return whence you came from use: <pre>CTRL+ALT+F7</pre>
      <li>how to check which libraries (so) are installed</li>
      <pre>ldconfig -p</pre>
      <li>determine physical memory</li>
      Either use file <code>/proc/meminfo</code>
      <pre>
$ cat /proc/meminfo  | grep MemTotal
MemTotal:        8215280 kB
      </pre>
      &hellip; or use <code>free</code> as in, e.g.:
      <pre>free -m</pre>
      <li>sectors, blocks and pages</li>
      <ul>
        <li>A <b>sector</b> is the smallest addressable unit on a block device. Most
          block devices use 512 byte sectors</li>
        <li>A <b>block</b> is the smallest <u>logically addressable</u> unit; it is an 
          abstraction in the filesystem. As such it is a multiple of sectors. Also,
          the kernel needs the number of sectors in a block to be a power of two (2) and
          also the total block size to be no larger than the <i>page</i> size. Therefore,
          block sizes are a power-of-two multiple of the sector size and are
          not greater than the page size. Common block sizes are 512 bytes, 1 kilobyte, and 4 kilobytes.</li>
        <li>A <b>page</b> is the granularity level for the kernel's virtual to physical address
          translations. In terms of virtual memory, pages are the smallest unit that matters.
          Most 32-bit architectures have 4KB pages, whereas most 64-bit architectures have 8KB pages.
      </ul>
      More information: <a href="http://www.makelinux.net/books/lkd2/ch13lev1sec1">here</a> and
      <a href="http://www.makelinux.net/books/lkd2/ch11lev1sec1">here</a>.
      <li>How to get sector, block and page sizes</li>
      To get the sector size do a:
      <pre>
sudo fdisk /dev/sda1 -l
      </pre>
      <br/>
      Block size is an artifact of the filesystem, not the device, to get the block size for
      an <b>ext3</b> or <b>ext4</b> filesystem do a:
      <pre>
sudo dumpe2fs /dev/sda1 | grep 'Block size'
      </pre>
      More <a href="http://www.linfo.org/get_block_size.html">here</a>.
      <br/>
      The page size is an artifact of the kernel. It can be obtained with:
      <pre>
getconf PAGESIZE
      </pre>
      <li>tying sector size and block size together in a concrete example</li>
      <pre>
echo "a"> a && stat a | head -2
      </pre>
      In my system I get the following output:
      <pre>
  File: `a'
  Size: 2         Blocks: 8          IO Block: 4096   regular file
      </pre>
      In this example, the <b>stat</b> utility uses the term <i>"blocks"</i> not in the
      sense of file system blocks but rather to mean an arbitrarily-sized unit, in this
      case 512 bytes. So the 2 bytes of file "a" (<i>size</i>) require an entire file-system
      block, which in my system is 4096 (obtained using <code>sudo dumpe2fs /dev/sda1 | grep 'Block size'</code>)
      and so this translates to 8 512-byte "units" or "<i>Blocks</i>" (in the <b>stat</b>'s terminology).
      I.e. some Unix utilities use the term "block" without any reference to the file system block size.
      <br/>
      More <a href="http://unix.stackexchange.com/a/14411/24044">here</a>.
      <li>show file systems, their type, UUIDs and mount points</li>
      For file systems types and mount points:
      <pre>
df -T
      </pre>
      For file systems UUIDs and types:
      <pre>
sudo blkid
      </pre>
      <li>show the configuration for automatic file system mounting</li>
      <pre>
cat /etc/fstab
      </pre>
      UUIDs can then be used to mount volumes automatically (see <a href="http://www.cyberciti.biz/faq/linux-finding-using-uuids-to-update-fstab/">here</a>).
      <br/>
      To find the <b>UUID</b> of a file system check <a href="#find-UUID-of-file-system">this note</a>
      <li>find the <b>UUID</b> of a file system<a name="find-UUID-of-file-system"></li>
        The below two ways seem to work:
        <pre>
sudo dumpe2fs /dev/sda1 | grep UUID
        </pre>
        <br/>or
        <pre>
sudo blkid /dev/sda1
        </pre>
        <li>find the Debian version on which your Ubuntu version is based on</li>
        <pre>
$ cat /etc/debian_version
wheezy/sid
        </pre>
        (output for my system).<br/>
        Typical correspondances:
        <pre>
14.10        jessie / sid
14.04        jessie / sid
13.10        Wheezy / sid
13.04        Wheezy / sid
12.10        Wheezy / sid
12.04        Wheezy / sid
11.10        Wheezy / sid
11.04        Squeeze / sid
10.10        Squeeze / sid
10.04        Squeeze / sid
        </pre>
        (<a href="http://askubuntu.com/a/445496/89663">source</a>)
        <li>how to toggle-on and off wired networking</li>
        To see the interfaces:
        <pre>sudo ifconfig</pre>
        To bring down <b>eth0</b>:
        <pre>sudo ifconfig eth0 down</pre>
        To bring it up back again:
        <pre>sudo ifconfig eth0 up</pre>
        <li>configuring and saving cron jobs</li>
        The user-level cron files are apparently located in `/var/spool/cron/crontabs` but are not meant to be
        edited directly. Instead do a:
        <pre>crontab -e</pre>
        To view (pipe that to save) such files:
        <pre>crontab -l</pre>
        <br/>
        To monitor in real-time CRON jobs:
        <pre>
tail -f /var/log/syslog | grep CRON
        </pre>
        <li>total RAM (and usage / free thereof)</li>
        <pre>
free -m
        </pre>
        or
        <pre>
cat /proc/meminfo  | grep MemTotal
        </pre>
        <li>Find what package a file belongs to in Ubuntu/Debian</li>
        <pre>apt-file search filename</pre>
        <br/>or<br/>
        <pre>apt-file search /path/to/file</pre>
        <br/>
        <a href="http://superuser.com/a/10999">superuser link</a>
        <li><a name="li-REISUB"/>last thing to try in frozen Ubuntu before hard restart</li>
        Holding down <b>ALT</b> and <b>Sys Req / Print Screen</b> keys hit the following keys: REISUB.
        Mnemonic: <b>R</b>estart <b>E</b>ven <b>I</b>f <b>S</b>ystem <b>U</b>tterly <b>B</b>roken (or reverse BUSIER - the system
        is busier than usual).<br/>
        See also <a href="#li-deep-terminal">this alternative</a> which is even softer.<br/>
        <a href="http://askubuntu.com/a/36717/89663">Ask Ubuntu link</a>

        <li>some random commands entered during networking troubleshooting:</li>
        <pre>
nslookup www.google.com
cat /etc/resolve.conf
ifdown eth0
sudo /etc/init.d/networking restart
cat /etc/network/interfaces
ifconfig eth0
        </pre>
        <li>how to properly kill</li>
        First you should try a <code>kill -15</code>, followed by a <code>kill -9</code>
        See <a href="http://unix.stackexchange.com/q/8916/24044">this unix.stackexchange question</a>
        <li>number of cores</li>
        <code>nproc</code> which returns a single integer, or, for a more detailed output: <code>lscpu</code>
        <li>total size of files satisfying a <u>find</u> criterion</li>
        <pre>du -c $(find . -type f -o -type l -maxdepth 1)</pre>
        <a href="http://unix.stackexchange.com/q/103846/24044">so</a>
        <li>find which process is causing "device busy"</li>
        <pre>(sudo) lsof | grep (device name or path to which device is mounted)</pre>
        <a href="http://stackoverflow.com/q/624154/274677">so</a>
        <li>how to remove the lingering <b>http_proxy</b> environment setting</li>
        Doing a: <code>export http_proxy=</code> is not enough for Rails (e.g. <b>bundle install</b> keeps failing).
        You should do a: <code>unset http_proxy</code> so that <code>prinenv | grep http_proxy</code> returns no 
        sign of it.
        <li>install bitcoin on Ubuntu</li>
        Add the bitcoin PPA: <tt>ppa:bitcoin/bitcoin</tt> (e.g. using '<tt>gksudo software-properties-gtk</tt>')
        followed by a:
        <pre>
sudo apt-get update
sudo apt-get install bitcoin-qt
        </pre>
        and maybe '<tt>sudo apt-get install bitcoind</tt>'
        <li>software center crash problem</li>
        Checkout <a href="http://askubuntu.com/q/361827/89663">this askubuntu.com discussion</a>.
        Bottom line:
        <pre>
sudo rm /var/lib/apt/lists/* -vf
sudo apt-get update
        </pre>
        <li>add and manage Ubuntu PPAs - <i>command line invocation of graphical tool</i></li>
        <pre>gksudo software-properties-gtk</pre>
        <li>add Ubuntu PPAs - <i>command line only</i></li>
        <pre>
sudo add-apt-repository ppa:hotot-team
sudo apt-get update
        </pre>
        <li>run graphical command that needs root</li>
        Use <b>gksudo</b>. It's  primary purpose is to run graphical commands
        that need  root  without the need to run an X terminal emulator.
        <li>how to diagnose and clear "hangover" HTTP proxy settings in Ubuntu</li>
        <pre>
$ env | grep -i proxy
http_proxy=http://localhost:9000/
UBUNTU_MENUPROXY=libappmenu.so
$ unset http_proxy
$ env | grep -i proxy
UBUNTU_MENUPROXY=libappmenu.so
        </pre>
        <li>find which process is thrasing the hard drive</li>
        <pre>
    $sudo apt-get install iotop
    $sudo iotop
        </pre>
        <li>techniques for managing dotfiles</li>
        <ul>
          <li><a href="https://news.ycombinator.com/item?id=6331485">stow</a></li>
          <li><a href="http://dotfiles.github.io/">dotfiles.github</a></li>
        </ul>
        <li>password-aware zip/unzip utility in Ubuntu</li>
        <pre>sudo apt-get install p7zip-full</pre>
        And then:
        <pre>7z x file.zip</pre>
        ... which prompts for password.
        <li>busted package lists in Ubuntu</li>
        When trying to install <b>graphviz</b> (I'm sure it can happen with other packages as well), I got:
        <pre>
    $ sudo apt-get install graphviz
    Reading package lists... Error!
    E: Encountered a section with no Package: header
    E: Problem with MergeList /var/lib/apt/lists/es.archive.ubuntu.com_ubuntu_dists_precise_main_i18n_Translation-en
    E: The package lists or status file could not be parsed or opened.
        </pre>
  </p>The following fixes it:
  <pre>
sudo rm /var/lib/apt/lists/* -vf
sudo apt-get update
  </pre>
  After the above two commands <b>sudo apt-get install graphviz</b> succeeds.
  I think doing a <b>sudo apt-get install upgrade</b> wouldn't hurt either
  but I didn't try it in this particular case. I also tried it again in a similar
  situation and was able to <b>sudo apt-get install p7zip-full</b> while it previously failed.
  <li>find which fonts are available</li>
  <pre>fc-list</pre>
  <li>disabled laptop internal keyboard (e.g. so as to only use the USB keyboard)</li>
  Original article <a href="http://ubuntuforums.org/showthread.php?t=1663298">here</a>.
  Do a:
  <pre>
xinput --list
  </pre>
  to find the id of the devices connected to the computer.
  Then to disable a device (say the built-in keyboard has id <b>11</b>, do a:
  <pre>
xinput set-int-prop 11 "Device Enabled" 8 0 
  </pre>
  And to enable it back again, do a:
  <pre>
xinput set-int-prop 11 "Device Enabled" 8 1
  </pre>
  <li>remove existing partitions and format USB flash drive or SDHC memory card or a new HDD for Linux</li>
  <a href="http://www.quentinhuys.com/extharddrive.html">source</a><br/>
  <p>Before you start, make sure you've unmounted any file systems that were mounted on that device</p>
  First of all do a <b>sudo -i</b>. Then, use two
  commands: <b>fdisk</b> followed by a <b>mkfs.ext3</b>
  First, do a:
  <pre>lsblk</pre>
  ... to find the device names and the partitions. In my case I had three (3) 
  partitions on the same external USB HDD: <b>/dev/sdg1/</b>, <b>/dev/sdg2</b>
  and <b>/dev/sdg3</b>. I then did a:
  <pre>fdisk /dev/sdg</pre>
  to create a single partition (<b>m</b> to list the available commands, <b>p</b> to list
  existing partitions, <b>d</b> to delete partitions, <b>n</b> to create a new partition
  and <b>w</b> to write the partition table).
  <p/>
  This was followed by a:
  <pre>mkfs.ext3 /dev/sdg1</pre>
  ... on the single partition I created. Finally, to label the drive I did a:
  <pre>sudo e2label /dev/sdg1 150GB-USB-hdd</pre>
  <p>
    <span class='NB'>NB</span>: more recently I just did a:
    <pre>mkfs.ext3 -L volume-label /dev/sdg1</pre>
    to format and label the volume in one step without needing to use <tt>e2label</tt>.
  </p>
  <p>
    <span class='NB'>NB2</span>
    You may not be able to write to this disk as normal user as root may own it,
    but just doing <code>chown user:user /media/volume-name</code> 
    or <code>chmod -R a+rwx /media/volume-name</code> will do the trick.
  </p>
  <p>
    <span class='NB'>NB3</span>
    It is important that the <tt>fdisk</tt> is performed on the entire device (as in <code>fdisk /dev/sdg</code>)
    but that <tt>mkfs.ext3</tt> is performed on a single partition (as in <code>mkfs.ext3 .. /dev/sdg1</code>).<br/>
    Doing the <tt>mkfs.ext3</tt> on the entire
    device would still work but then the <tt>fdisk -l</tt> command will complain about not being able
    to find the file system type.
  </p>
  <p><span class='NB'>NB4</span>
    To confirm that you've correctly formated the flash drive do
    a <code>sudo blkid</code> afterwards (this works whether the
    drive is mounted or unmounted)
  </p>
  <hr>
  <p id='format-usb-flash-2018-April'>
    <b style='color:blue'>2018, April</b>. I did the following to format to FAT32 a Transcend 8GB USB flash drive (which I intended to use to create a bootable Ubuntu 16.04 flash drive):
    <pre>
sudo fdisk /dev/sdb</pre>
    In the step above I followed the sequence of steps described above to list the existing partitions (<b>p</b>), delete the
    existing partition (<b>d</b>) and then create a new partition (<b>n</b>) and, finally, write the partition table (<b>w</b>).
  </p>
  <p>
    This was then followed by:
    <pre>sudo mkfs.fat -F 32 /dev/sdb1</pre>
    to create a FAT32 file-system on the flash drive.
  </p>
  <p>
    However, I was unable to label it. I tried:
    <pre>sudo fatlabel /dev/sdb TRANS-8GB</pre>
    &hellip; but it wasn't working. However, I tried again later using:
    <pre>sudo fatlabel /dev/sdb1 TRNSND8BLAC</pre>
    &hellip; (as advised <a href=filesystems.html#how-to-label-fat32-filesystem'>here</a>) and it worked like a charm (on the second try). The difference was that the second incantation used the partition, not the entire device, and that filesystem was dismounted when I tried the second incantation.
  </p>
  <p>
    At any rate notice again how
    (as advised above) <code>fdisk</code> is performed on the entire disk whereas <code>mkfs</code> on a single partition.
  </p>
  </p>
  <p>
    <b style='color:blue'>2019, May</b>
    I encountered some problems with the above procedure in that the thumb drive I created (even though FAT32) wasn't readable
    from a High Sierra MacBook Air. To fix that I first completely erased and re-formatted the USB thumb drive using the
    <i>gnome-disks</i> program before proceeding with the <i>April 2018</i> procedure. I still couldn't get the High Sierra machine
    to read it. I then formatted it on the Mac using the simple FAT filesystem and at that point it worked in both Ubuntu and MacOS.
  </p>
  <p>
    <b style='color:blue'>2021, May</b>
    While trying to format a brand-new SanDisk 256G thumb drive I encountered problems with the above
    procedure. Specifically, the following step:
    <pre>$ sudo mkfs.ext3 -L san256G /dev/sdc1</pre>
    &hellip; became stuck at the point where the journal get's created:
    <pre>Creating journal (262144 blocks): </pre>
    To get around this problem I formated the drive in <i>ext4</i> as follows:
    <pre>$ sudo mkfs.ext4 -L san256G -F /dev/sdc1</pre>
    <span class='NB'>NB5</span> As always, you must remember to <b>first</b> delete the existing
    partitions, then create a new partition (just accept the defaults) and write it on
    the drive using:
    <pre>$ sudo fdisk /dev/sdc</pre>
    Only after the above step (which has always succeeded in my experience) should you
    go ahead with the <tt>mkfs.ext4</tt> tool.
  </p>
  <p>
    <b style='color:blue'>2025, January</b>
    I followed the above procedure (as recorded for <i>May, 2021</i>) while installing an second
    Hard Disk Drive on my work desktop computer. It worked flawlessly (and assigned a volume
    label too, just fine) except that I need to configure the system so as to automatically
    mount the partition on system startup. This I did with <tt>sudo gnome-disks</tt>
    as advised <a href='https://askubuntu.com/a/375319/89663'>here</a>.
  </p>

  <li>remove BOM from files in Linux</li>
  <pre>tail --bytes=+4 text.txt</pre>
  <li>remote desktop connection in Linux</li>
  <pre>rdesktop -a 16 -f 192.168.0.2</pre>
  <b>a</b> for color depth (16 bits), <b>f</b> for full-screen
  <li>how I transformed a set of java files using the slav-latin encoding (for Czech) to UTF-8</li>
  Two steps:
  <ol>
    <li>change the encoding of the files using <b>iconv</b></li>
    <pre> for x in $(find . -iname \*.java) ; do  iconv  --from-code=ISO-8859-2 --to-code=UTF-8 $x > $x.boo ; done</pre>
    <li>rename the sources back to Java</li>
    <pre>for i in $(find . -iname \*.java.boo) ; do mv -v $i ${i%.java.boo}.java ; done</pre>
    <b>NOTE:</b> before the previous I had the following which doesn't work as it does the renames to the local folder:
    <pre>for i in $(find . -iname \*.java.boo) ; do mv "$i" "`basename $i .java.boo`.java"; done</pre>
  </ol>
  <li>find a package's version<li>
    <pre>dpkg -s postgresql</pre>
    <li>apt-get update -vs- apt-get upgrade -vs- apt-get dist-upgrade</li>
    You should first run <b>update</b>, then <b>upgrade</b>. Neither of them automatically
    runs the other:
    <ul>
      <li><b>apt-get update</b> updates the list of available packages and their versions, but it does not install
        or upgrade any packages.</li>
      <li><b>apt-get upgrade</b> actually updates packages you have to newer versions.</li>
      <li><b>apt-get dist-upgrade</b> in addition to performing the function of upgrade, also intelligenly
        handles changing dependencies with new version of packages and <i>may</i>
        install new packages.</li>
    </ul>
    <li>list of fonts</li>
    <pre>fc-list</pre>
    <li>format external USB flash drive in Linux</li>
    <ol>
      <li>remove and insert the flash drive and do a:
        <pre>dmesg | tail</pre>
        .. to identify the device (/dev/sdc1 in my system)</li>
      <li>confirm with a:
        <pre>df</pre></li>
      <li>dismount:<pre>sudo umount /dev/sdc1</pre></li>
      <li>format:<pre>sudo mkfs.ext3 -n 'name' /dev/sdc1</pre>
  </p>Note, sometimes <b>-n</b>  is not understood and the following works instead:</p>
    </pre>sudo mkfs.ext3 /dev/sdc1</pre></li>
      <li>I've also seen:
        <pre>sudo mkfs -t vfat /dev/sdb1</pre></li>
    </ol>
    <li>find sockets bound and listened-to in the local host</li>
    <pre> sudo lsof -P -i -n </pre>
    <li>find the libraries used by a program</li>
    <pre>ldd $(which wget)</pre>
    <li>use the <b>ldd</b> Linux command to find version information
      (and dependencies?) about specific library files</li>
    <pre>ldd /usr/lib/libappindicator3.so.1</pre>
    <li>get seconds since the epoch to time</li>
    <pre>date -d @23948239</pre>
    <li>get date as seconds since the epoch</li>
    <pre>
date +%s
date -d "Dec 24 1974" +%s
    </pre>
    <li>open a file manager on the current directory</li>
    <pre>xdg-open .</pre>
    <li>viewing binary files in Linux</li>
    Use the <b>hexedit</b> program.
    <li>the two components of the <b>LANG</b> environment variable</li>
    In my machine, at present:
    <pre>
echo $LANG
en_US.UTF-8
    </pre>
    The first component of the environment variable specifies the <i>collation</i>
    which dictates: (a) lowercase / uppercase logic, (b) ordering logic, (c) maybe, default
    codepage. The second component is the encoding. <b>LANG</b> should be set to the
    same value as the <b>LC_ALL</b> otherwise some instabilities may be observed.
    <li>on the <b>LANG</b> environment variable</li>
    The <b>LANG</b> environment variable is taken into account by
    the <i>i18n</i> component of <b>libc</b>, and therefore, because
    of that by all tools, interpreters and other libraries that
    interact with the console.<p>
      In my machine it is currently:<p>
      <pre>
$echo $LANG
en_US.UTF-8
      </pre>
      As a result everything that's inputed from the keyboard or
      output to the keyboard is converted automatically to UTF-8
      (this is analogous to the 'Regional Settings' in Windows machines).<p>
        To experiment do a:
        <pre>
cat > datatest
        </pre>
        and type-in some Greek characters. The command <i>file</i> on
        my machine then yields:
        <pre>
file datatest
datatest: UTF-8 Unicode text
        </pre>
        If the file is converted to a Greek codepage, with:
        <pre>
iconv -f utf-8 -t iso8859-7 < datatest > greek
        </pre>
        .. <i>file</i> then duly reports:
        <pre>
file greek
greek: ISO-8859 text
        </pre>
        .. and <i>cat</i>ing the file produces garbage on the console.
        <li>configure emacs as the default text editor in GNOME</li>
        Open (or touch if it doesn't exist) file:
        <pre>~/.local/share/applications/defaults.list</pre>
        Add or edit the following text:
        <pre>
[Default Applications]
text/plain=emacs
        </pre>
        <li>restore corrupt VM in Ubuntu</li>
        do the following as root (history excrept):
        <pre>
  348  cd /home/mperdikeas/virtual-machines/vm/
  349  l
  350  ls -ltra
  351  l *lck
  352  mv *lck /var/tmp/
  353  ls -ltra
  354  mv caches/ /var/tmp/
  355  ls -ltra
  356  mv *vmem /var/tmp/
  357  l
  358  chown root.root *
  359  l
  360  chmod 644 *
  361  l
  362  vmplayer Windows\ XP\ Professional.vmx
        </pre>
        <li>enable ssh authentication</li>
        <pre>
cat .ssh/id_dsa.pub
(grep with mouse)
cat >> .ssh/authorized_keys
        </pre>
        <li>how to view the shared directories of a samba system</li>
        <pre>
smbclient -U a_tsiodras -L //172.31.128.250
        </pre>
        Occassionally, this might give a: 
        <pre>
session setup failed: NT_STATUS_LOGON_FAILURE
        </pre>
        if the server is not configured to provide a listing of the shared folders.
        In these cases, the only recourse is to know the shared folder names and
        directly mount them as shown on the below item.
        <li>how to mount a samba system</li>
        <pre>
sudo mount -t cifs -o username=a_tsiodras //172.31.128.250/Download /iso2/ 
        </pre>
        <li>find the (not-installed) package a file, e.g. <i>javac</i> belongs to</li>
        Use the <b>apt-file</b> program:
        <pre>
sudo apt-get install apt-file
sudo apt-file update
apt-file search /usr/bin/mysqldump
        </pre>
        (<a href="http://unix.stackexchange.com/a/6314/24044">SO answer</a>)
        <br>
        Also, to find which <u>installed</u> package a file belongs to
        you can use, e.g.:
        <pre>dpkg -S /bin/ls</pre>
        <br>
        Note that this doesn't always work for config files and files in
        <b>/var</b> since those are generated after the package is extracted.
        <li>my LANG setting</li>
        <pre>
$ echo $LANG
en_US.UTF-8
        </pre>
        <li>how to format a memory stick</li>
        First view drives and partitions:
        <pre>sudo fdisk -l</pre>
        Unmount the drive in question and format it, e.g. in NTFS:
        <pre>sudo mkfs -t ntfs /dev/sdg1</pre>
        <li>find the UUID of a device in Ubuntu</li>
        <pre>sudo blkid</pre>
        <li>updated from unauthenticated sources in Ubuntu</li>
        <pre>sudo apt-get update && sudo apt-get upgrade --allow-unauthenticated</pre>
        (<a href="http://askubuntu.com/questions/171144/update-manager-wont-install-from-un-authenticated-sources">source</a>)
        <li>view system calls made (e.g. in the invocation './NeuroCode.exe Project.xml'): </li>
        <pre>strace -f ./NeuroCode.exe Project.xml 2>&1 | less</pre>
        <li>view loaded modules in a Linux system</li>
        <pre>lsmod</pre>
        <li>how to install a bundle in Ubuntu:</li>
        <pre>sudo sh VMware-Player-5.0.0-812388.i386.bundle </pre>
        <li>troubleshooting mounting problems</li>
        Things one can do:
        <ul>
          <li>cat /proc/partitions</li>
          <li>sudo fdisk -l /dev/sdc</li>
          <li>sudo fdisk -l</li>
          <li>dmesg | tail <i>(after you've plugged in the drive)</i></li>
          <li>check what the kernel is saying when the USB device gets mounted (leave running while attaching):<li>
            <pre>sudo tail -f /var/log/syslog</pre>
            <li>check whether the drive appears in the BIOS</li>
        </ul>
        <p>The <b>umount</b> command shows all mounted filesystems.
          <p>If an external HDD is not visible even at the output of <b>fdisk -l</b> this means that it
            is not visible, even as a device, which strongly suggests that the USB port itself may have
            been fried. I suppose a fried USB port could be diagnosed by the output of the <b>lsusb</b>
            command.
            <li>mounting NTFS filesystems</li>
            In general, all kernels provide default mount drivers in the kernel. However, for NTFS filesystems
            in particular, the best available mount driver is of type FUSE (Filesystems in USEr space) and
            you can get it with <b>sudo mount ntfs-3g</b>. You then use <b>ntfs-3g</b> instead of <b>mount</b>
            to do the actual mounting.
            <li>find user id of a user</li>
            <pre>id -u john</pre>
            For more information, includiing group id:
            <pre>id john</pre>
            <li>add an Ubuntu repo's key to your APT keyring</li>
            <pre>wget -q -O - http://emacs.naquadah.org/key.gpg | sudo apt-key add -</pre>
            <li>show USB devices recognized by the kernel</li>
            <pre>lsusb</pre>
            <li>kernel messages</li>
            <pre>dmesg</pre>
            <li>cleanly remove an application</li>
            <pre>
apt-get remove --purge [appname]
apt-get autoremove [appname]
apt-get clean
apt-get autoclean
            </pre>
            update 29.VIII.2012: ttsiodras recommends this:
            <pre>
dpkg -P [packagename]
            </pre>
            <li>install DEB packages</li>
            wget the package (say package.deb) in a tmp folder and then do a:
            <pre>
sudo dpkg -i package.deb
            </pre>
            <li>starting scripts upon bootup</li>
            There are two ways:
            <p>
              <b>1<sup>st</sup> way. </b> Either:  (a) using /etc/rc.local for things that are supposed to simply be run at startup, and (b) the init.d scripts - and their symlinks under runlevels /etc/rc{3,5}.d - for everything else.
              <p>
                <b>2<sup>nd</sup> way. </b> 
                There's also something without the complexity of startup scripts, which is much easier to use when you want to start/stop your process as if it is a daemon: "supervisor" ( http://supervisord.org/ ):
                <p>
                  <pre>
  [program:yourapp]
  command=/path/to/app --option1 ... 
  user=yourapp
  directory=/apps/yourapp
                  </pre>
                  <p>
                    You add the file to /etc/supervisor/conf.d/, make a "supervisorctl update" and your service is up an running. It's a no-brainer and much easier than juggling rc.d scripts. Crash recovery and optional web interface included.
          </li>

          <li>how to find if Apache is running</li>
          <pre>
ps ax | grep httpd | grep -v grep
          </pre>


          <li>how to cleanly re-install Apache (Debian)</li>
          <pre>
sudo apt-get remove --purge apache2 apache2-utils
sudo apt-get install apache2
          </pre>


          <li>how to find installed packages (Debian)</li>
          <pre> dpkg --get-selections</pre>

          <li>how to find the source package a binary (e.g. ldapsearch) belongs to</li>
          <pre>dpkg -S ldapsearch</pre>

          <li>how to find the loci of the files of an installed package (Debian)</li>
          <b>update:</b>
          It seems that the following produce more verbose / extensive output (see also <a href="http://askubuntu.com/a/32509/89663">this answer</a>):
          <pre>
dpkg-query -L &lt;package name&gt;
apt-file list &lt;package name&gt;
          </pre>
          <pre>dpkg -L httpd</pre><p>
            <i>end of update</i><br/>
            (-L lists all files installed to your system from that package name)</p>
            Note that <b>dpkg</b> lists the files that were <u>fetched</u> as part of the install
            processes. Post-install hooks may create additional files (e.g. pyc files from py
            Python files). This can be seen by comparing the outputs of the following two commands:
            <pre>
dpkg -L python2.7
ls -s /usr/lib/python2.7/
            </pre>
            To find which packages are installed (so you can then do a <code>dpkg -L</code> on them, do a:
            <pre>dpkg --get-selections</pre>
            <li>how to find directories in current dir </li>
            <pre>ls | grep ^d</pre>


            <li>find the 10 largest files or directories in a hierarchy</li>
            <pre>find . -type f -print0 | xargs -0 du -sb | sort -n | tail -10 | cut -f2 | xargs -I{} du -sh {}</pre>
            <p>(for directories just use '-type d' instead of '-type f')


              <li>find the largest directories in a hierarchy</li>
              <pre>du * | sort -n</pre>or..<p>
                <pre>du --max-depth=1 * | sort -n </pre>.. or .. <p>
                  <pre>du --max-depth=1 | sort -n</pre> ('*' is really redundant)<p>

                    <li>get list of users in Linux</li>
                    <pre>cat /etc/passwd | cut -d ":" -f1</pre>


  </ol>
</body>
</html>

